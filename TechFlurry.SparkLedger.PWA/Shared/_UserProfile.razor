@inject IAuthenticationService AuthService
<div class="topbar-item">
    <div class="btn btn-icon w-auto btn-clean d-flex align-items-center btn-lg px-2" id="kt_quick_user_toggle">
        <span class="text-muted font-weight-bold font-size-base d-none d-md-inline mr-1">Hi,</span>
        <span class="text-dark-50 font-weight-bolder font-size-base d-none d-md-inline mr-3">@AuthService.UserFirstName</span>
        <span class="symbol symbol-35 symbol-light-success">
            <span class="symbol-label font-size-h5 font-weight-bold">@AuthService.UserFirstName.Substring(0, 1).ToUpper()</span>
        </span>
    </div>
</div>
@code {
    protected override Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            AuthService.OnValueUpdate += OnValueUpdate;
        }
        return base.OnAfterRenderAsync(firstRender);
    }
}

@functions{
    void UpdateUI()
    {
        StateHasChanged();
    }
    void LogIn(object sender, AuthenticationEventArgs eventArgs)
    {
        UpdateUI();
    }
    void OnValueUpdate(object sender, OnUpdateEventArgs eventArgs)
    {
        UpdateUI();
    }
}
